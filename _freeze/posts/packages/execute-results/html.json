{
  "hash": "92e9ac2f6547401ea9bbe7a4fa0cdd79",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"R packages\"\ndescription: \"Learn how to add functionality to R with packages\"\nauthor: \"Stefano Coretta\"\ndate: 2024-06-27\neditor: visual\nformat: \n  html:\n    css: [webex.css]\n    include-after-body: [webex.js]\nexecute: \n  warning: false\n---\n\n::: {.cell}\n\n:::\n\n\n\n\n::: callout-warning\n#### Pre-requisites\n\n-   [R basics](r-basics.qmd)\n:::\n\n## R packages\n\n::: callout-warning\n#### Important\n\nWhen working through the Notebook entries, always **make sure you are in the course Quarto Project** you [created earlier](r-basics#r-studio-and-quarto-projects).\n\nYou know you are in a Quarto Project because you can see the name of the Project in the top-right corner of RStudio, next to the light-blue cube icon.\n\nIf you see `Project (none)` in the top-right corner, that means **you are not** in a Quarto Project.\n\nTo make sure you are in the right Quarto project, you can open the project by going to the project folder in File Explorer (Win) or Finder (macOS) and double click on the `.Rproj` file.\n:::\n\nWhen you install R, a **library** of packages is also installed. **Packages** provide R with extra functionalities, usually by making extra functions available for use. You can think of packages as \"plug-ins\" that you install once and then you can \"activate\" them when you need them. The library installed with R contains a set of packages that are collectively known as the **base R packages**, but you can install more any time!\n\nNote that the R library is a folder on your computer. Packages are *not* installed inside RStudio. Remember that RStudio is just an interface.\n\nYou can check all of the currently installed packages in the bottom-right panel of RStudio, in the **Packages** tab. There you can also install new packages.\n\n::: callout-tip\n#### R library and packages\n\n-   The **R library** contains the base R packages and all the user-installed packages.\n\n-   **R packages** provide R with extra functionalities and are installed into the R library.\n:::\n\n::: callout-caution\n#### Extra: Where is my R library?\n\nIf you want to find the path of the R library on your computer, type `.libPaths()` in the Console. The function returns (i.e. outputs) the path or paths where your R library is.\n:::\n\n#### Install packages\n\nYou can install extra packages in the R library in two ways:\n\n1.  You can use the `install.packages()` function. This function takes the name of the package you want to install as a string, for example `install.packages(\"cowsay\")`.\n\n::: callout-warning\nIf you install a package with the function `install.packages()`, do so in the Console! Do not include this function in your scripts (this is because you install packages only once, see below).\n:::\n\n2.  Or you can go the `Packages` tab in the bottom-right panel of RStudio and click on `Install`. A small window will pop up. See the screenshot below.\n\n![](../img/install-packages.png){fig-align=\"center\" width=\"350\"}\n\nGo ahead and try to install a package using the second method. Install the **cowsay** and the **fortunes** packages (see picture above for how to write the packages). After installing you will see that the package fortunes is listed in the Packages tab.\n\n::: callout-tip\n#### Install packages\n\nTo **install packages**, go to the Packages tab of the bottom-right panel of RStudio and click on `Install`.\n\nIn the \"Install packages\" window, list the package names and then click `Install`.\n:::\n\n::: callout-warning\n**You need to install a package ONLY ONCE!** Once installed, it's there for ever, saved in the R library. You will be able to use all of your installed packages in any RStudio/Quarto project you create.\n:::\n\n#### Attach packages\n\nNow, to use a package you need to **attach** the package to the current R session with the `library()` function. Attaching a package makes the functions that come with the package available to us.\n\n::: callout-warning\n**You need to attach the packages you want to use once per R session.**\n\nNote that every time you open RStudio, a new R session is started.\n:::\n\nLet's attach the cowsay and fortunes packages. Write the following code at the top of your R script, before all the other code you wrote.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(cowsay)\nlibrary(fortunes)\n```\n:::\n\n\n\n\nNote that `library(cowsay)` takes the name of the package without quotes, although if you put the name in quotes it also works. You need one `library()` function per package (there are other ways, but we will stick with this one).\n\n::: callout-tip\n#### Attaching packages\n\nPackages are **attached** with the `library(pkg.name)` function, where `pkg.name` is the name of the package.\n\nIt is customary to put all the packages used in the script **at the top of the script.**\n:::\n\nNow you can use the functions provided by the attached packages. Try out the `say()` function from the cowsay package.\n\nWrite the following in your R script and run it!\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsay(\"hot diggity\", \"frog\")\n```\n:::\n\n\n\n\n(I know, the usefulness of the package might be questionable, but it is fun!)\n\n::: callout-warning\nRemember, you need to install a package only once but you need to attach it with `library()` every time you start R.\n\nThink of `install.packages()` as mounting a light bulb (installing the package) and `library()` as the light switch (attaching the package).\n\n![](../img/install-vs-attach.jpeg)\n:::\n\n### Package documentation\n\nTo learn what a function does, you can check its documentation by typing in the Console the function name preceded by a `?` question mark. Type `?say` in the Console and hit `ENTER` to see the function documentation. You should see something like this:\n\n![](/img/say-doc.png){fig-align=\"center\"}\n\nThe `Description` section is usually a brief explanation of what the function does.\n\nIn the `Usage` section, the usage of the function is shown by showing which arguments the function has and which default values (if any) each argument has. When the argument does not have a default value, `NULL` is listed as the value.\n\nThe `Arguments` section gives a thorough explanation of each function argument. (Ignore `â€¦` for now).\n\nHow many arguments does `say()` have? How many arguments have a default value?\n\nDefault argument values allow you to use the function without specifying those arguments. Just write `say()` in your script on a new line and run it. Does the output make sense based on the `Usage` section of the documentation?\n\nThe rest of the function documentation usually has further details, which are followed by `Examples`. It is always a good idea to look at the example and test them in the Console when learning new functions.\n\n::: callout-note\n#### Quiz 1\n\n\n\n\nWhich of the following statements is wrong? <div class='webex-radiogroup' id='radio_CDDVSADZII'><label><input type=\"radio\" autocomplete=\"off\" name=\"radio_CDDVSADZII\" value=\"answer\"></input> <span>You attach libraries with `library()`.</span></label><label><input type=\"radio\" autocomplete=\"off\" name=\"radio_CDDVSADZII\" value=\"\"></input> <span>`install.packages()` does not load packages.</span></label><label><input type=\"radio\" autocomplete=\"off\" name=\"radio_CDDVSADZII\" value=\"\"></input> <span>The R library is a folder.</span></label></div>\n\n\n\n:::\n\n::: {.callout-caution collapse=\"true\"}\n#### Explanation\n\nThis was a question about terminology. In R, you attach packages from the library using (confusingly) the `library()` function.\n:::\n\n::: callout-note\n#### Next\n\n-   [Data types](data-types.qmd)\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}