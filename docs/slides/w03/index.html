<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Quantitative Methods for LEL</title>
    <meta charset="utf-8" />
    <meta name="author" content="Dr Stefano Coretta" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/tachyons/tachyons.min.css" rel="stylesheet" />
    <link href="libs/panelset/panelset.css" rel="stylesheet" />
    <script src="libs/panelset/panelset.js"></script>
    <script src="libs/freezeframe/freezeframe.min.js"></script>
    <script src="libs/xaringanExtra-freezeframe/freezeframe-init.js"></script>
    <script id="xaringanExtra-freezeframe-options" type="application/json">{"selector":"img[src$=\"gif\"]","trigger":"click","overlay":false,"responsive":true,"warnings":true}</script>
    <link rel="stylesheet" href="../xaringan-themer.css" type="text/css" />
    <link rel="stylesheet" href="../custom.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

.title[
# Quantitative Methods for LEL
]
.subtitle[
## Week 3
]
.author[
### Dr Stefano Coretta
]
.institute[
### University of Edinburgh
]
.date[
### 2023/10/03
]

---







&lt;iframe allowfullscreen frameborder="0" height="100%" mozallowfullscreen style="min-width: 500px; min-height: 355px" src="https://app.wooclap.com/events/SQQFXB/questions/651ac0766e9fba81222d2941" width="100%"&gt;&lt;/iframe&gt;

---

## Data visualisation

.center[
![](../../img/data-viz.png)
]

---

## Good data visualisation

.bg-washed-blue.b--dark-blue.ba.bw2.br3.shadow-5.ph4.mt2[
Alberto Cairo has identified four common features of good data visualisation ([Spiegelhalter 2019](https://www.penguin.co.uk/books/294857/the-art-of-statistics-by-spiegelhalter-david/9780241258767):64-66):

1. It contains **reliable information**.

2. The design has been chosen so that relevant **patterns become noticeable**.

3. It is presented in an **attractive** manner, but appearance should not get in the way of **honesty, clarity and depth**.

4. When appropriate, it is organized in a way that **enables some exploration**.
]

---

layout: false

&lt;iframe allowfullscreen frameborder="0" height="100%" mozallowfullscreen style="min-width: 500px; min-height: 355px" src="https://app.wooclap.com/events/SQQFXB/questions/650c1c85fc9e77ddc2cf39e6" width="100%"&gt;&lt;/iframe&gt;

---

&lt;iframe allowfullscreen frameborder="0" height="100%" mozallowfullscreen style="min-width: 500px; min-height: 355px" src="https://app.wooclap.com/events/SQQFXB/questions/650c1d1c6829de60e682066b" width="100%"&gt;&lt;/iframe&gt;

---

## Endangerment status


```r
glot_status
```

```
## # A tibble: 8,345 × 18
##    ID        Language_ID Parameter_ID Value Code_ID Comment Source codeReference status Name  Macroarea Latitude Longitude Glottocode ISO639P3code Countries Family_ID
##    &lt;chr&gt;     &lt;chr&gt;       &lt;chr&gt;        &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;  &lt;lgl&gt;         &lt;fct&gt;  &lt;chr&gt; &lt;chr&gt;        &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;        &lt;chr&gt;     &lt;chr&gt;    
##  1 kolp1236… kolp1236    aes          3     aes-sh… Kol (1… hh:he… NA            shift… Kol … Papunesia    -5.21     152.  kolp1236   kol          PG        &lt;NA&gt;     
##  2 tana1288… tana1288    aes          3     aes-sh… Tanahm… hh:he… NA            shift… Tana… Papunesia    -2.55     133.  tana1288   tcm          ID        &lt;NA&gt;     
##  3 touo1238… touo1238    aes          3     aes-sh… Touo (… hh:he… NA            shift… Touo  Papunesia    -8.58     157.  touo1238   tqu          SB        &lt;NA&gt;     
##  4 bert1248… bert1248    aes          3     aes-sh… Fadash… hh:he… NA            shift… Berta Africa       10.6       34.7 bert1248   wti          ET;SD     &lt;NA&gt;     
##  5 sius1254… sius1254    aes          6     aes-ex… Siusla… hh:he… NA            extin… Sius… North Am…    42.5     -124.  sius1254   sis          US        &lt;NA&gt;     
##  6 cent2045… cent2045    aes          6     aes-ex… Jalaa … &lt;NA&gt;   NA            extin… Jalaa Africa        9.59      11.6 cent2045   cet          NG        &lt;NA&gt;     
##  7 else1239… else1239    aes          3     aes-sh… Elseng… hh:he… NA            shift… Else… Papunesia    -3.00     140.  else1239   mrf          ID        &lt;NA&gt;     
##  8 taia1239… taia1239    aes          4     aes-mo… Taiap … hh:he… NA            morib… Taiap Papunesia    -4.05     145.  taia1239   gpn          PG        &lt;NA&gt;     
##  9 pyuu1245… pyuu1245    aes          3     aes-sh… Pyu (4… hh:he… NA            shift… Pyu   Papunesia    -4.45     141.  pyuu1245   pby          ID;PG     &lt;NA&gt;     
## 10 mato1253… mato1253    aes          6     aes-ex… Arára … hh:he… NA            extin… Mato… South Am…    -9.17     -60.6 mato1253   axg          BR        &lt;NA&gt;     
## # ℹ 8,335 more rows
## # ℹ 1 more variable: Language_ID.y &lt;chr&gt;
```


---

## Bar chart

&lt;img src="index_files/figure-html/status-bar-1.png" width="60%" style="display: block; margin: auto;" /&gt;

???

Bar charts are great for counts (of anything).

The *x*-axis includes the level of status, while the *y*-axis shows the number of languages per status level.

---

layout: true

## Stacked bar chart

---

&lt;img src="index_files/figure-html/status-stack-1-1.png" width="60%" style="display: block; margin: auto;" /&gt;

???

In this plot I separated endangered vs non-endangered languages.
Within the endangered languages I further show the counts of different status levels.

---

&lt;img src="index_files/figure-html/status-stack-2-1.png" width="60%" style="display: block; margin: auto;" /&gt;

???

Here, the *x*-axis corresponds to the language macro-areas in the data.
Within each bar, the counts for each of the status levels is given.

---

layout: false

## Stacked proportion (filled) bar chart

&lt;img src="index_files/figure-html/status-filled-1.png" width="60%" style="display: block; margin: auto;" /&gt;

???

So far we have seen raw counts.
What about proportions?

You can show proportions by using a "filled" bar chart.
Each bar is stretched so that covers the entire range from 0 to 1.

Note that proportions are between 0 and 1, while percentages are between 0 and 100%.

By default, `geom_bar()` adds a *y* label "counts" so you have to manually change the label to "proportions".

---

## Dot matrix chart

&lt;img src="index_files/figure-html/status-matrix-1.png" width="45%" style="display: block; margin: auto;" /&gt;



---

## Mosaic plot

&lt;img src="index_files/figure-html/status-mosaic-1.png" width="60%" style="display: block; margin: auto;" /&gt;

---

## Formant values


```r
formants
```

```
## # A tibble: 24,012 × 22
##    speaker file    word   time    f3    f0 language gender glottocode  item ipa   c1    c1_phonation vowel anteropost height c2    c2_phonation c2_place formant value
##    &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;  &lt;chr&gt;      &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;        &lt;chr&gt; &lt;chr&gt;      &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;        &lt;chr&gt;    &lt;chr&gt;   &lt;dbl&gt;
##  1 it01    it01-0… pugu  0.111 2280.  137. Italian  m      ital1282      20 pugu  p     voiceless    u     back       high   g     voiced       velar    f1       308.
##  2 it01    it01-0… pugu  0.111 2280.  137. Italian  m      ital1282      20 pugu  p     voiceless    u     back       high   g     voiced       velar    f2       797.
##  3 it01    it01-0… pugu  0.222 2124.  134. Italian  m      ital1282      20 pugu  p     voiceless    u     back       high   g     voiced       velar    f1       315.
##  4 it01    it01-0… pugu  0.222 2124.  134. Italian  m      ital1282      20 pugu  p     voiceless    u     back       high   g     voiced       velar    f2       779.
##  5 it01    it01-0… pugu  0.333 2314.  134. Italian  m      ital1282      20 pugu  p     voiceless    u     back       high   g     voiced       velar    f1       316.
##  6 it01    it01-0… pugu  0.333 2314.  134. Italian  m      ital1282      20 pugu  p     voiceless    u     back       high   g     voiced       velar    f2       786.
##  7 it01    it01-0… pugu  0.444 2374.  135. Italian  m      ital1282      20 pugu  p     voiceless    u     back       high   g     voiced       velar    f1       314.
##  8 it01    it01-0… pugu  0.444 2374.  135. Italian  m      ital1282      20 pugu  p     voiceless    u     back       high   g     voiced       velar    f2       789.
##  9 it01    it01-0… pugu  0.556 2307.  137. Italian  m      ital1282      20 pugu  p     voiceless    u     back       high   g     voiced       velar    f1       313.
## 10 it01    it01-0… pugu  0.556 2307.  137. Italian  m      ital1282      20 pugu  p     voiceless    u     back       high   g     voiced       velar    f2       737.
## # ℹ 24,002 more rows
## # ℹ 1 more variable: id &lt;chr&gt;
```

---

layout: true

## Line plot

---

&lt;img src="index_files/figure-html/forms-line-1.png" width="60%" style="display: block; margin: auto;" /&gt;

---

&lt;img src="index_files/figure-html/forms-point-1.png" width="60%" style="display: block; margin: auto;" /&gt;

---

&lt;img src="index_files/figure-html/forms-line-point-1.png" width="60%" style="display: block; margin: auto;" /&gt;

---

layout: false

## Infant gestures


```r
gestures
```

```
## # A tibble: 1,620 × 11
##    dyad  background months task  gesture count_raw count ct_raw    ct pro_rata    id
##    &lt;chr&gt; &lt;chr&gt;       &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;    &lt;dbl&gt;
##  1 b01   Bengali        10 five  reach           5     5      1     1 no           3
##  2 b01   Bengali        10 five  point           0     0      0     0 no           2
##  3 b01   Bengali        10 five  ho_gv           0     0      0     0 no           1
##  4 b01   Bengali        10 tp1   reach           0     0      0     0 no           6
##  5 b01   Bengali        10 tp1   point           0     0      0     0 no           5
##  6 b01   Bengali        10 tp1   ho_gv           0     0      0     0 no           4
##  7 b01   Bengali        10 tp2   reach           0     0      0     0 no           9
##  8 b01   Bengali        10 tp2   point           0     0      0     0 no           8
##  9 b01   Bengali        10 tp2   ho_gv           0     0      0     0 no           7
## 10 b01   Bengali        11 five  reach           7     8      3     3 yes          3
## # ℹ 1,610 more rows
```

---

layout: true

## More line plots

---

&lt;img src="index_files/figure-html/gest-line-1.png" width="60%" style="display: block; margin: auto;" /&gt;


---

&lt;img src="index_files/figure-html/gest-line-facet-1-1.png" width="60%" style="display: block; margin: auto;" /&gt;

---

&lt;img src="index_files/figure-html/gest-line-facet-2-1.png" width="60%" style="display: block; margin: auto;" /&gt;

---

layout: false
layout: true

## Connected dots plot

---

&lt;img src="index_files/figure-html/gest-conn-1-1.png" width="60%" style="display: block; margin: auto;" /&gt;

---

&lt;img src="index_files/figure-html/gest-conn-2-1.png" width="60%" style="display: block; margin: auto;" /&gt;

---

layout: false

## Phonetics of politeness


```r
polite
```

```
## # A tibble: 224 × 27
##    subject gender birthplace musicstudent months_ger scenario task  attitude total_duration articulation_rate  f0mn  f0sd f0range  inmn  insd inrange shimmer  jitter
##    &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;      &lt;chr&gt;             &lt;dbl&gt;    &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;             &lt;dbl&gt;             &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
##  1 F1      F      seoul_area yes                  18        6 not   inf               55.2               3.38  229.  4.18    10.6  64.6  7.94    25.3  0.0821 0.0114 
##  2 F1      F      seoul_area yes                  18        6 not   pol               28.5              12.2   181.  3.78     9    63.2  7.75    24.3  0.0807 0.0116 
##  3 F1      F      seoul_area yes                  18        7 not   inf               60.3               6.19  220.  4.18    10.4  61.8  8.89    28.4  0.0864 0.0128 
##  4 F1      F      seoul_area yes                  18        7 not   pol               40.8               6.03  176.  4.59    13.1  61.7  8.51    26.1  0.0871 0.0132 
##  5 F1      F      seoul_area yes                  18        1 dct   pol               18.4               5.61  215.  4.28    10.3  62    8.29    25.4  0.0694 0.0107 
##  6 F1      F      seoul_area yes                  18        1 dct   inf               13.6               5.82  211.  3.43    10.5  61.5  8.95    28    0.0825 0.0111 
##  7 F1      F      seoul_area yes                  18        2 dct   pol                5.22              6.49  285.  2.09     7.1  65.7  5.81    19.1  0.0613 0.00516
##  8 F1      F      seoul_area yes                  18        2 dct   inf                4.25              6.22  266.  4.93    18.3  64.9  8.52    27.6  0.0949 0.0117 
##  9 F1      F      seoul_area yes                  18        3 dct   pol                6.79              4.89  211.  3.22     6.7  61.3  8.43    26.4  0.0631 0.00801
## 10 F1      F      seoul_area yes                  18        3 dct   inf                4.13              7.79  286.  3.92    11.2  64.9  8.35    27.6  0.0852 0.00931
## # ℹ 214 more rows
## # ℹ 9 more variables: HNRmn &lt;dbl&gt;, H1H2 &lt;dbl&gt;, breath_count &lt;dbl&gt;, filler_count &lt;dbl&gt;, hiss_count &lt;dbl&gt;, nasal_count &lt;dbl&gt;, sil_count &lt;dbl&gt;, ya_count &lt;dbl&gt;,
## #   yey_count &lt;dbl&gt;
```

---

layout: true

## Strip chart

---

&lt;img src="index_files/figure-html/pol-strip-f0-1.png" width="60%" style="display: block; margin: auto;" /&gt;

---

&lt;img src="index_files/figure-html/pol-strip-hnr-1.png" width="60%" style="display: block; margin: auto;" /&gt;

---

layout: false
layout: true

## Density plot

---

&lt;img src="index_files/figure-html/pol-dens-1-1.png" width="60%" style="display: block; margin: auto;" /&gt;

---

&lt;img src="index_files/figure-html/pol-dens-2-1.png" width="60%" style="display: block; margin: auto;" /&gt;

---

&lt;img src="index_files/figure-html/pol-dens-3-1.png" width="60%" style="display: block; margin: auto;" /&gt;

---

&lt;img src="index_files/figure-html/pol-dens-4-1.png" width="60%" style="display: block; margin: auto;" /&gt;

---

layout: false
layout: true

## Violin plot

---

&lt;img src="index_files/figure-html/pol-vio-1-1.png" width="60%" style="display: block; margin: auto;" /&gt;

---

&lt;img src="index_files/figure-html/pol-vio-2-1.png" width="60%" style="display: block; margin: auto;" /&gt;

---

&lt;img src="index_files/figure-html/pol-vio-3-1.png" width="60%" style="display: block; margin: auto;" /&gt;

---

&lt;img src="index_files/figure-html/pol-vio-4-1.png" width="60%" style="display: block; margin: auto;" /&gt;

---

layout: false
layout: true

## Scatter plot

---

&lt;img src="index_files/figure-html/pol-sca-1-1.png" width="60%" style="display: block; margin: auto;" /&gt;

---

&lt;img src="index_files/figure-html/pol-sca-2-1.png" width="60%" style="display: block; margin: auto;" /&gt;

---

&lt;img src="index_files/figure-html/pol-sca-3-1.png" width="60%" style="display: block; margin: auto;" /&gt;

---

&lt;img src="index_files/figure-html/pol-sca-4-1.png" width="60%" style="display: block; margin: auto;" /&gt;

---

&lt;img src="index_files/figure-html/pol-sca-5-1.png" width="60%" style="display: block; margin: auto;" /&gt;

---

&lt;img src="index_files/figure-html/mald-1-1.png" width="60%" style="display: block; margin: auto;" /&gt;


---

layout: false

class: center middle reverse

## DO'S AND DON'TS

---

layout: true

## DO

---

&lt;img src="index_files/figure-html/mald-bar-1-1.png" width="60%" style="display: block; margin: auto;" /&gt;

???

Bar charts should be used for discrete numeric variables, not for continuous variables.

---

&lt;img src="index_files/figure-html/mald-bar-2-1.png" width="60%" style="display: block; margin: auto;" /&gt;

???

If you want to show proportions, instead of raw counts, use proportion bar charts (aka filled bar chart).

---

&lt;img src="index_files/figure-html/mald-bar-3-1.png" width="60%" style="display: block; margin: auto;" /&gt;

???

To show proportions from multiple subjects/items, use strip charts.

---

layout: false

## DON'T

&lt;img src="index_files/figure-html/mald-dont-1.png" width="60%" style="display: block; margin: auto;" /&gt;

???

Never ever ever use bar charts with error bars to show mean proportions. They are misleading:

- The bars do not indicate a discrete numeric values: mean proportions are continuous variables.
- Error bars mask the true variability of the data: show raw proportions instead.

For more see: https://www.data-to-viz.com/caveat/error_bar.html, https://stats.stackexchange.com/questions/349422/does-it-make-sense-to-add-error-bars-in-a-bar-chart-of-frequencies/367889#367889

---

## DO

&lt;img src="index_files/figure-html/pol-do-1.png" width="60%" style="display: block; margin: auto;" /&gt;

???

For continuous variables, like acoustic measures or reaction times, use violins with overlaid strip charts. You can include very narrow box plots, but remember that box plots mask variability in the raw data.

---

## DON'T

&lt;img src="index_files/figure-html/pol-dont-1.png" width="60%" style="display: block; margin: auto;" /&gt;

???

Can you see what difference it makes to use box plots only?

---

## Summary

.bg-washed-blue.b--dark-blue.ba.bw2.br3.shadow-5.ph4.mt2[
- Carefully think about which type of variable you are working with: **continuous or discrete**?

- The type of variable allows you to select appropriate types of plots. Your **go-to plots** are:

  - Bar charts (and variants).
  - Strip charts.
  - Line plots.
  - Density plots.
  - Violin plots.

- Be mindful of the **DOs and DON'Ts** of plotting.
]
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script src="../macros.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
