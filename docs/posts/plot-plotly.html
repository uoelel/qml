<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2024-10-23">

<title>Interactive plotting with Plotly – QML</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="../site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="../site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="../site_libs/plotly-binding-4.10.4/plotly.js"></script>
<script src="../site_libs/typedarray-0.1/typedarray.min.js"></script>
<script src="../site_libs/jquery-3.5.1/jquery.min.js"></script>
<link href="../site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="../site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<link href="../site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="../site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>
<link href="../site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="../site_libs/pagedtable-1.1/js/pagedtable.js"></script>


<link rel="stylesheet" href="../styles.css">
<link rel="stylesheet" href="webex.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">QML</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../schedule.html"> 
<span class="menu-text">Course schedule</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../map.html"> 
<span class="menu-text">Map</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../notebook.html"> 
<span class="menu-text">Notebook</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../challenges.html"> 
<span class="menu-text">Challenges</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../assessments.html"> 
<span class="menu-text">Assessment</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../extra.html"> 
<span class="menu-text">Extra</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
    <a href="https://github.com/uoelel/qml" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#overview" id="toc-overview" class="nav-link active" data-scroll-target="#overview"><span class="header-section-number">1</span> Overview</a></li>
  <li><a href="#add-interactivity-to-a-ggplot2-plot" id="toc-add-interactivity-to-a-ggplot2-plot" class="nav-link" data-scroll-target="#add-interactivity-to-a-ggplot2-plot"><span class="header-section-number">2</span> Add interactivity to a ggplot2 plot</a></li>
  <li><a href="#use-plot_ly-to-create-interactive-plots" id="toc-use-plot_ly-to-create-interactive-plots" class="nav-link" data-scroll-target="#use-plot_ly-to-create-interactive-plots"><span class="header-section-number">3</span> Use <code>plot_ly()</code> to create interactive plots</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Interactive plotting with Plotly</h1>
<p class="subtitle lead">Learn how to create interactive plots with Plotly</p>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">October 23, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<div class="callout callout-style-default callout-warning no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Prerequisites
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><a href="../posts/plot-advanced.html">Advanced plotting</a></li>
</ul>
</div>
</div>
<section id="overview" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="overview"><span class="header-section-number">1</span> Overview</h2>
<p><a href="https://plotly.com">Plotly</a> is an Open Source graphing system, with interfaces to major languages like Python and R.</p>
<p>The <a href="https://plotly.com/r/">plotly</a> R package allows you to make your ggplot2 plots interactive, or you can always create interactive plots with plotly directly.</p>
<p>This tutorial will show a simple example of each approach, but we refer you to the R package documentation for a full tour.</p>
</section>
<section id="add-interactivity-to-a-ggplot2-plot" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="add-interactivity-to-a-ggplot2-plot"><span class="header-section-number">2</span> Add interactivity to a ggplot2 plot</h2>
<p>Let’s recreate the Aggregated Endangerment Status (AES) plot from <a href="../posts/bar-charts.html">Bar charts</a>.</p>
<p>First let’s read the data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>glot_status <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"data/coretta2022/glot_status.rds"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Then let’s create the plot. This time we will plot all macro-areas and we need to save the <code>ggplot()</code> outout to a variable.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>aes_plot <span class="ot">&lt;-</span> glot_status <span class="sc">|&gt;</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Macroarea, <span class="at">fill =</span> status)) <span class="sc">+</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"fill"</span>) <span class="sc">+</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Macro-area"</span>,</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Proportion"</span>,</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"Endangerment"</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Finally, we can use the <code>ggplotly()</code> function from the plotly package to make our ggplot2 plot interactive!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(aes_plot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-2564311a7a0f9f1b947e" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-2564311a7a0f9f1b947e">{"x":{"data":[{"orientation":"v","width":[0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036],"base":[0.40525409130060291,0.99097065462753953,0.67357512953367871,0.90283400809716596,0.61976320582877964,0.95231416549789616],"x":[1,2,3,4,5,6],"y":[0.59474590869939714,0.0090293453724604733,0.32642487046632129,0.097165991902834037,0.38023679417122036,0.047685834502103841],"text":["count: 0.594745909<br />Macroarea: Africa<br />status: not_endangered","count: 0.009029345<br />Macroarea: Australia<br />status: not_endangered","count: 0.326424870<br />Macroarea: Eurasia<br />status: not_endangered","count: 0.097165992<br />Macroarea: North America<br />status: not_endangered","count: 0.380236794<br />Macroarea: Papunesia<br />status: not_endangered","count: 0.047685835<br />Macroarea: South America<br />status: not_endangered"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"not_endangered","legendgroup":"not_endangered","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036],"base":[0.24289405684754523,0.97742663656884876,0.45129533678756478,0.65991902834008098,0.41666666666666669,0.8134642356241234],"x":[1,2,3,4,5,6],"y":[0.16236003445305769,0.013544018058690765,0.22227979274611392,0.24291497975708498,0.20309653916211295,0.13884992987377276],"text":["count: 0.162360034<br />Macroarea: Africa<br />status: threatened","count: 0.013544018<br />Macroarea: Australia<br />status: threatened","count: 0.222279793<br />Macroarea: Eurasia<br />status: threatened","count: 0.242914980<br />Macroarea: North America<br />status: threatened","count: 0.203096539<br />Macroarea: Papunesia<br />status: threatened","count: 0.138849930<br />Macroarea: South America<br />status: threatened"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(183,159,0,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"threatened","legendgroup":"threatened","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036],"base":[0.086132644272179162,0.8893905191873589,0.21554404145077721,0.46153846153846156,0.12295081967213115,0.55119214586255261],"x":[1,2,3,4,5,6],"y":[0.15676141257536608,0.088036117381489865,0.23575129533678757,0.19838056680161942,0.29371584699453557,0.26227208976157079],"text":["count: 0.156761413<br />Macroarea: Africa<br />status: shifting","count: 0.088036117<br />Macroarea: Australia<br />status: shifting","count: 0.235751295<br />Macroarea: Eurasia<br />status: shifting","count: 0.198380567<br />Macroarea: North America<br />status: shifting","count: 0.293715847<br />Macroarea: Papunesia<br />status: shifting","count: 0.262272090<br />Macroarea: South America<br />status: shifting"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,186,56,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"shifting","legendgroup":"shifting","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036],"base":[0.062876830318690791,0.79006772009029347,0.16217616580310881,0.40080971659919029,0.061475409836065573,0.50490883590462832],"x":[1,2,3,4,5,6],"y":[0.023255813953488372,0.099322799097065428,0.0533678756476684,0.060728744939271273,0.061475409836065573,0.04628330995792429],"text":["count: 0.023255814<br />Macroarea: Africa<br />status: moribund","count: 0.099322799<br />Macroarea: Australia<br />status: moribund","count: 0.053367876<br />Macroarea: Eurasia<br />status: moribund","count: 0.060728745<br />Macroarea: North America<br />status: moribund","count: 0.061475410<br />Macroarea: Papunesia<br />status: moribund","count: 0.046283310<br />Macroarea: South America<br />status: moribund"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,191,196,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"moribund","legendgroup":"moribund","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036],"base":[0.050818260120585705,0.64559819413092556,0.12849740932642487,0.29554655870445345,0.034608378870673952,0.42496493688639553],"x":[1,2,3,4,5,6],"y":[0.012058570198105086,0.14446952595936791,0.033678756476683946,0.10526315789473684,0.026867030965391621,0.079943899018232789],"text":["count: 0.012058570<br />Macroarea: Africa<br />status: nearly_extinct","count: 0.144469526<br />Macroarea: Australia<br />status: nearly_extinct","count: 0.033678756<br />Macroarea: Eurasia<br />status: nearly_extinct","count: 0.105263158<br />Macroarea: North America<br />status: nearly_extinct","count: 0.026867031<br />Macroarea: Papunesia<br />status: nearly_extinct","count: 0.079943899<br />Macroarea: South America<br />status: nearly_extinct"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(97,156,255,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"nearly_extinct","legendgroup":"nearly_extinct","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036],"base":[0,0,0,0,0,0],"x":[1,2,3,4,5,6],"y":[0.050818260120585705,0.64559819413092556,0.12849740932642487,0.29554655870445345,0.034608378870673952,0.42496493688639553],"text":["count: 0.050818260<br />Macroarea: Africa<br />status: extinct","count: 0.645598194<br />Macroarea: Australia<br />status: extinct","count: 0.128497409<br />Macroarea: Eurasia<br />status: extinct","count: 0.295546559<br />Macroarea: North America<br />status: extinct","count: 0.034608379<br />Macroarea: Papunesia<br />status: extinct","count: 0.424964937<br />Macroarea: South America<br />status: extinct"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(245,100,227,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"extinct","legendgroup":"extinct","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.228310502283108,"r":7.3059360730593621,"b":40.182648401826498,"l":48.949771689497723},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,6.5999999999999996],"tickmode":"array","ticktext":["Africa","Australia","Eurasia","North America","Papunesia","South America"],"tickvals":[1,2,3,3.9999999999999996,5,6],"categoryorder":"array","categoryarray":["Africa","Australia","Eurasia","North America","Papunesia","South America"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"Macro-area","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.050000000000000003,1.05],"tickmode":"array","ticktext":["0.00","0.25","0.50","0.75","1.00"],"tickvals":[0,0.25,0.5,0.75,1],"categoryorder":"array","categoryarray":["0.00","0.25","0.50","0.75","1.00"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Proportion","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"Endangerment","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"176ef4cb8a915":{"x":{},"fill":{},"type":"bar"}},"cur_data":"176ef4cb8a915","visdat":{"176ef4cb8a915":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="use-plot_ly-to-create-interactive-plots" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="use-plot_ly-to-create-interactive-plots"><span class="header-section-number">3</span> Use <code>plot_ly()</code> to create interactive plots</h2>
<p>The alternative approach is to use <code>plot_ly()</code> from plotly to create more complex graphs. A typical example of when you might want to use <code>plot_ly()</code> is when making 3D scatter plots.</p>
<p>Let’s make a 3D formant plot of the Albanian vowels. First, the data</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>alb_formants <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"data/coretta2021/alb_formants.rds"</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>alb_formants</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["speaker"],"name":[1],"type":["chr"],"align":["left"]},{"label":["gender"],"name":[2],"type":["chr"],"align":["left"]},{"label":["labels"],"name":[3],"type":["chr"],"align":["left"]},{"label":["word"],"name":[4],"type":["chr"],"align":["left"]},{"label":["bundle"],"name":[5],"type":["chr"],"align":["left"]},{"label":["F1"],"name":[6],"type":["int"],"align":["right"]},{"label":["F2"],"name":[7],"type":["int"],"align":["right"]},{"label":["F3"],"name":[8],"type":["int"],"align":["right"]},{"label":["start"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["end"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["sample_start"],"name":[11],"type":["int"],"align":["right"]},{"label":["sample_end"],"name":[12],"type":["int"],"align":["right"]},{"label":["times_orig"],"name":[13],"type":["dbl"],"align":["right"]},{"label":["vowel"],"name":[14],"type":["fct"],"align":["left"]},{"label":["F1.z"],"name":[15],"type":["dbl[,1]"],"align":["right"]},{"label":["F2.z"],"name":[16],"type":["dbl[,1]"],"align":["right"]},{"label":["F1.z.hz"],"name":[17],"type":["dbl[,1]"],"align":["right"]},{"label":["F2.z.hz"],"name":[18],"type":["dbl[,1]"],"align":["right"]},{"label":["F1.z.bark"],"name":[19],"type":["dbl[,1]"],"align":["right"]},{"label":["F2.z.bark"],"name":[20],"type":["dbl[,1]"],"align":["right"]},{"label":["F2_F1.z.hz"],"name":[21],"type":["dbl[,1]"],"align":["right"]}],"data":[{"1":"s01","2":"F","3":"y","4":"pykë","5":"007-pyk3","6":"414","7":"1908","8":"2660","9":"636.3152","10":"758.4921","11":"28062","12":"33449","13":"696.881","14":"y","15":"-0.834871459","16":"0.57945755","17":"340.4769","18":"1835.2031","19":"3.437954","20":"12.434206","21":"1494.7262"},{"1":"s01","2":"F","3":"@","4":"për","5":"009-p3r","6":"914","7":"1406","8":"2414","9":"968.6961","10":"1109.8073","11":"42720","12":"48942","13":"1038.756","14":"ɜ","15":"1.328007969","16":"-0.27513695","17":"775.6453","18":"1334.6140","19":"7.071516","20":"10.330453","21":"558.9687"},{"1":"s01","2":"F","3":"i","4":"pikë","5":"015-pik3","6":"367","7":"2467","8":"3205","9":"653.6395","10":"766.9048","11":"28826","12":"33820","13":"709.386","14":"i","15":"-1.038182125","16":"1.53108767","17":"299.5711","18":"2392.6320","19":"3.024436","20":"14.207397","21":"2093.0609"},{"1":"s01","2":"F","3":"e","4":"peri","5":"016-peri","6":"563","7":"2324","8":"3012","9":"571.4626","10":"738.9909","11":"25202","12":"32589","13":"657.506","14":"e","15":"-0.190333390","16":"1.28764741","17":"470.1571","18":"2250.0339","19":"4.656871","20":"13.798485","21":"1779.8768"},{"1":"s01","2":"F","3":"u","4":"puro","5":"019-puro","6":"512","7":"833","8":"2446","9":"869.3764","10":"1040.8050","11":"38340","12":"45899","13":"953.125","14":"u","15":"-0.410947091","16":"-1.25060039","17":"425.7699","18":"763.2245","19":"4.254574","20":"6.983905","21":"337.4546"},{"1":"s01","2":"F","3":"o","4":"por","5":"021-por","6":"674","7":"1019","8":"2555","9":"953.9569","10":"1139.6712","11":"42070","12":"50259","13":"1046.886","14":"ɔ","15":"0.289825843","16":"-0.93395781","17":"566.7645","18":"948.7017","19":"5.483602","20":"8.214346","21":"381.9373"},{"1":"s01","2":"F","3":"a","4":"para","5":"041-para","6":"991","7":"1336","8":"2243","9":"7550.9184","10":"7690.3288","11":"332996","12":"339143","13":"7620.006","14":"a","15":"1.661091401","16":"-0.39430351","17":"842.6612","18":"1264.8108","19":"7.530820","20":"9.985215","21":"422.1495"},{"1":"s01","2":"F","3":"y","4":"pykë","5":"048-pyk3","6":"405","7":"1588","8":"2472","9":"805.9297","10":"898.2653","11":"35542","12":"39613","13":"851.875","14":"y","15":"-0.873803289","16":"0.03469611","17":"332.6439","18":"1516.1025","19":"3.359912","20":"11.163185","21":"1183.4586"},{"1":"s01","2":"F","3":"@","4":"për","5":"050-p3r","6":"837","7":"1355","8":"2423","9":"1032.4150","10":"1174.0930","11":"45530","12":"51777","13":"1101.250","14":"ɜ","15":"0.994924537","16":"-0.36195830","17":"708.6294","18":"1283.7574","19":"6.589143","20":"10.080391","21":"575.1280"},{"1":"s01","2":"F","3":"i","4":"pikë","5":"056-pik3","6":"334","7":"2450","8":"3205","9":"809.4898","10":"922.1202","11":"35699","12":"40665","13":"864.375","14":"i","15":"-1.180932168","16":"1.50214722","17":"270.8500","18":"2375.6798","19":"2.725032","20":"14.160194","21":"2104.8298"},{"1":"s01","2":"F","3":"e","4":"peri","5":"057-peri","6":"519","7":"2339","8":"2724","9":"887.1995","10":"1062.1655","11":"39126","12":"46841","13":"971.881","14":"e","15":"-0.380666779","16":"1.31318310","17":"431.8623","18":"2264.9918","19":"4.310675","20":"13.842674","21":"1833.1295"},{"1":"s01","2":"F","3":"u","4":"puro","5":"060-puro","6":"416","7":"737","8":"2551","9":"945.3628","10":"1094.7052","11":"41691","12":"48276","13":"1021.881","14":"u","15":"-0.826219942","16":"-1.41402882","17":"342.2176","18":"667.4943","19":"3.455224","20":"6.280870","21":"325.2767"},{"1":"s01","2":"F","3":"o","4":"por","5":"062-por","6":"678","7":"1030","8":"2352","9":"1016.0884","10":"1309.9887","11":"44810","12":"57770","13":"1163.750","14":"ɔ","15":"0.307128879","16":"-0.91523163","17":"570.2458","18":"959.6708","19":"5.512216","20":"8.282218","21":"389.4250"},{"1":"s01","2":"F","3":"a","4":"para","5":"066-para","6":"929","7":"1250","8":"2307","9":"745.0000","10":"905.7710","11":"32855","12":"39944","13":"828.131","14":"a","15":"1.392894352","16":"-0.54070815","17":"788.7004","18":"1179.0525","19":"7.162747","20":"9.540044","21":"390.3521"},{"1":"s01","2":"F","3":"y","4":"pykë","5":"089-pyk3","6":"361","7":"1720","8":"2490","9":"988.2426","10":"1093.4354","11":"43582","12":"48220","13":"1038.136","14":"y","15":"-1.064136679","16":"0.25941021","17":"294.3491","18":"1647.7315","19":"2.970566","20":"11.714725","21":"1353.3824"},{"1":"s01","2":"F","3":"@","4":"për","5":"091-p3r","6":"858","7":"1337","8":"2508","9":"1155.0454","10":"1289.9660","11":"50938","12":"56887","13":"1221.250","14":"ɜ","15":"1.085765473","16":"-0.39260113","17":"726.9065","18":"1265.8080","19":"6.723085","20":"9.990252","21":"538.9015"},{"1":"s01","2":"F","3":"i","4":"pikë","5":"097-pik3","6":"298","7":"2444","8":"3237","9":"965.9070","10":"1099.9660","11":"42597","12":"48508","13":"1033.131","14":"i","15":"-1.336659487","16":"1.49193294","17":"239.5179","18":"2369.6967","19":"2.389492","20":"14.143445","21":"2130.1788"},{"1":"s01","2":"F","3":"e","4":"peri","5":"098-peri","6":"562","7":"2147","8":"2564","9":"904.2063","10":"1079.2404","11":"39876","12":"47594","13":"990.631","14":"e","15":"-0.194659149","16":"0.98632624","17":"469.2868","18":"2073.5314","19":"4.649124","20":"13.252309","21":"1604.2446"},{"1":"s01","2":"F","3":"u","4":"puro","5":"101-puro","6":"435","7":"865","8":"2497","9":"1178.6054","10":"1336.9274","11":"51977","12":"58958","13":"1258.136","14":"u","15":"-0.744030523","16":"-1.19612424","17":"358.7540","18":"795.1346","19":"3.618001","20":"7.207393","21":"436.3806"},{"1":"s01","2":"F","3":"o","4":"por","5":"103-por","6":"705","7":"1098","8":"2428","9":"1202.4603","10":"1344.9773","11":"53029","12":"59313","13":"1275.011","14":"ɔ","15":"0.423924368","16":"-0.79946983","17":"593.7449","18":"1027.4797","19":"5.703317","20":"8.690726","21":"433.7348"},{"1":"s01","2":"F","3":"a","4":"para","5":"107-para","6":"975","7":"1267","8":"2249","9":"1252.4376","10":"1404.5692","11":"55233","12":"61941","13":"1325.625","14":"a","15":"1.591879259","16":"-0.51176770","17":"828.7359","18":"1196.0047","19":"7.437197","20":"9.629962","21":"367.2689"},{"1":"s02","2":"M","3":"o","4":"por","5":"013-por","6":"526","7":"1020","8":"2142","9":"709.8753","10":"874.1610","11":"31306","12":"38550","13":"790.631","14":"ɔ","15":"0.259172871","16":"-0.83810261","17":"560.5972","18":"1004.8501","19":"5.432718","20":"8.556473","21":"444.2529"},{"1":"s02","2":"M","3":"u","4":"puro","5":"016-puro","6":"425","7":"890","8":"2482","9":"636.1565","10":"748.8322","11":"28055","12":"33023","13":"689.381","14":"u","15":"-0.368345006","16":"-1.08197599","17":"434.3414","18":"861.9983","19":"4.333422","20":"7.659294","21":"427.6569"},{"1":"s02","2":"M","3":"y","4":"pykë","5":"026-pyk3","6":"374","7":"1530","8":"2380","9":"734.3651","10":"876.8821","11":"32386","12":"38670","13":"806.881","14":"y","15":"-0.685210468","16":"0.11863145","17":"370.5885","18":"1565.2687","19":"3.733077","20":"11.374015","21":"1194.6801"},{"1":"s02","2":"M","3":"@","4":"për","5":"030-p3r","6":"544","7":"1292","8":"2176","9":"661.0091","10":"769.3764","11":"29151","12":"33929","13":"715.631","14":"ɜ","15":"0.371007741","16":"-0.32784444","17":"583.0982","18":"1303.7400","19":"5.617172","20":"10.179575","21":"720.6418"},{"1":"s02","2":"M","3":"e","4":"peri","5":"036-peri","6":"481","7":"2110","8":"2887","9":"702.4830","10":"877.4490","11":"30980","12":"38695","13":"789.375","14":"e","15":"-0.020414302","16":"1.20668194","17":"504.3446","18":"2202.6074","19":"4.956846","20":"13.656278","21":"1698.2628"},{"1":"s02","2":"M","3":"i","4":"pikë","5":"040-pik3","6":"310","7":"2312","8":"2989","9":"1552.9592","10":"1686.0431","11":"68486","12":"74354","13":"1620.000","14":"i","15":"-1.082845559","16":"1.58562367","17":"290.5849","18":"2424.5771","19":"2.931580","20":"14.295355","21":"2133.9923"},{"1":"s02","2":"M","3":"o","4":"por","5":"054-por","6":"506","7":"1033","8":"2176","9":"693.5714","10":"865.9524","11":"30587","12":"38188","13":"781.869","14":"ɔ","15":"0.134911906","16":"-0.81371527","17":"535.5960","18":"1019.1353","19":"5.223868","20":"8.641459","21":"483.5393"},{"1":"s02","2":"M","3":"u","4":"puro","5":"057-puro","6":"445","7":"816","8":"2517","9":"689.8753","10":"800.8730","11":"30424","12":"35318","13":"744.381","14":"u","15":"-0.244084040","16":"-1.22079623","17":"459.3425","18":"780.6827","19":"4.560215","20":"7.106821","21":"321.3401"},{"1":"s02","2":"M","3":"y","4":"pykë","5":"067-pyk3","6":"374","7":"1530","8":"2278","9":"645.0000","10":"768.8322","11":"28445","12":"33905","13":"709.375","14":"y","15":"-0.685210468","16":"0.11863145","17":"370.5885","18":"1565.2687","19":"3.733077","20":"11.374015","21":"1194.6801"},{"1":"s02","2":"M","3":"@","4":"për","5":"071-p3r","6":"607","7":"1224","8":"2176","9":"630.0567","10":"711.9388","11":"27786","12":"31396","13":"671.881","14":"ɜ","15":"0.762429783","16":"-0.45540898","17":"661.8518","18":"1229.0175","19":"6.237829","20":"9.802323","21":"567.1658"},{"1":"s02","2":"M","3":"e","4":"peri","5":"077-peri","6":"486","7":"2038","8":"2857","9":"612.0068","10":"779.1950","11":"26990","12":"34362","13":"694.381","14":"e","15":"0.010650940","16":"1.07161361","17":"510.5949","18":"2123.4895","19":"5.010791","20":"13.411692","21":"1612.8946"},{"1":"s02","2":"M","3":"i","4":"pikë","5":"081-pik3","6":"294","7":"2416","8":"2909","9":"523.4127","10":"614.5011","11":"23083","12":"27099","13":"569.167","14":"i","15":"-1.182254331","16":"1.78072238","17":"270.5840","18":"2538.8586","19":"2.722223","20":"14.599793","21":"2268.2746"},{"1":"s02","2":"M","3":"o","4":"por","5":"095-por","6":"526","7":"1013","8":"2108","9":"796.5646","10":"952.3016","11":"35129","12":"41996","13":"877.506","14":"ɔ","15":"0.259172871","16":"-0.85123425","17":"560.5972","18":"997.1581","19":"5.432718","20":"8.510372","21":"436.5609"},{"1":"s02","2":"M","3":"u","4":"puro","5":"098-puro","6":"283","7":"782","8":"2517","9":"738.2426","10":"852.5283","11":"32557","12":"37596","13":"795.631","14":"u","15":"-1.250597863","16":"-1.28457850","17":"256.8333","18":"743.3214","19":"2.576098","20":"6.841838","21":"486.4881"},{"1":"s02","2":"M","3":"y","4":"pykë","5":"108-pyk3","6":"306","7":"1564","8":"2312","9":"606.0204","10":"739.8526","11":"26726","12":"32627","13":"671.886","14":"y","15":"-1.107697752","16":"0.18241372","17":"285.5846","18":"1602.6299","19":"2.879591","20":"11.530334","21":"1317.0452"},{"1":"s02","2":"M","3":"@","4":"për","5":"112-p3r","6":"620","7":"1185","8":"2184","9":"727.6304","10":"904.9093","11":"32089","12":"39906","13":"815.625","14":"ɜ","15":"0.843199411","16":"-0.52857100","17":"678.1025","18":"1186.1620","19":"6.361289","20":"9.577872","21":"508.0595"},{"1":"s02","2":"M","3":"e","4":"peri","5":"118-peri","6":"460","7":"2085","8":"2740","9":"760.4649","10":"922.5964","11":"33537","12":"40686","13":"844.381","14":"e","15":"-0.150888316","16":"1.15978322","17":"478.0934","18":"2175.1359","19":"4.727257","20":"13.572413","21":"1697.0425"},{"1":"s02","2":"M","3":"i","4":"pikë","5":"122-pik3","6":"276","7":"2327","8":"2995","9":"1508.0159","10":"1628.7642","11":"66504","12":"71828","13":"1570.000","14":"i","15":"-1.294089201","16":"1.61376290","17":"248.0829","18":"2441.0600","19":"2.482162","20":"14.340240","21":"2192.9771"},{"1":"s02","2":"M","3":"a","4":"para","5":"124-para","6":"850","7":"1224","8":"2176","9":"1351.9615","10":"1529.1043","11":"59622","12":"67433","13":"1440.011","14":"a","15":"2.272200517","16":"-0.45540898","17":"965.6156","18":"1229.0175","19":"8.318788","20":"9.802323","21":"263.4019"},{"1":"s02","2":"M","3":"a","4":"para","5":"125-para","6":"769","7":"1156","8":"2176","9":"984.5465","10":"1136.4059","11":"43419","12":"50115","13":"1058.744","14":"a","15":"1.768943605","16":"-0.58297352","17":"864.3610","18":"1154.2950","19":"7.674871","20":"9.406968","21":"289.9341"},{"1":"s02","2":"M","3":"a","4":"para","5":"126-para","6":"708","7":"1255","8":"2142","9":"920.6689","10":"1072.5737","11":"40602","12":"47300","13":"993.970","14":"a","15":"1.389947660","16":"-0.39725456","17":"788.1075","18":"1263.0822","19":"7.158623","20":"9.976475","21":"474.9747"},{"1":"s04","2":"F","3":"i","4":"pikë","5":"003-pik3","6":"305","7":"2823","8":"3707","9":"663.5034","10":"788.2653","11":"29261","12":"34762","13":"725.631","14":"i","15":"-1.111658176","16":"1.43920749","17":"284.7878","18":"2338.8121","19":"2.871284","20":"14.056251","21":"2054.0243"},{"1":"s04","2":"F","3":"@","4":"për","5":"004-p3r","6":"703","7":"1381","8":"2741","9":"676.2698","10":"847.2676","11":"29824","12":"37364","13":"763.756","14":"ɜ","15":"0.717685993","16":"-0.48741296","17":"652.8494","18":"1210.2708","19":"6.168776","20":"9.704886","21":"557.4214"},{"1":"s04","2":"F","3":"u","4":"puro","5":"016-puro","6":"318","7":"818","8":"3126","9":"1475.9977","10":"1663.1859","11":"65092","12":"73346","13":"1571.869","14":"u","15":"-1.051905728","16":"-1.23962330","17":"296.8099","18":"769.6545","19":"2.995983","20":"7.029358","21":"472.8445"},{"1":"s04","2":"F","3":"a","4":"para","5":"019-para","6":"952","7":"1598","8":"2789","9":"706.8594","10":"872.7778","11":"31173","12":"38489","13":"788.761","14":"a","15":"1.862175184","16":"-0.19748464","17":"883.1190","18":"1380.0998","19":"7.797622","20":"10.547656","21":"496.9808"},{"1":"s04","2":"F","3":"o","4":"por","5":"033-por","6":"627","7":"1085","8":"2789","9":"717.5624","10":"917.2676","11":"31645","12":"40451","13":"814.994","14":"ɔ","15":"0.368363991","16":"-0.88289122","17":"582.5663","18":"978.6146","19":"5.612849","20":"8.398240","21":"396.0484"},{"1":"s04","2":"F","3":"e","4":"peri","5":"035-peri","6":"467","7":"2732","8":"4069","9":"679.9887","10":"919.9887","11":"29988","12":"40571","13":"801.250","14":"e","15":"-0.367050750","16":"1.31762464","17":"434.6018","18":"2267.5935","19":"4.335809","20":"13.850328","21":"1832.9916"},{"1":"s04","2":"F","3":"y","4":"pykë","5":"041-pyk3","6":"350","7":"2080","8":"2619","9":"726.7234","10":"882.0975","11":"32049","12":"38900","13":"802.506","14":"y","15":"-0.904822780","16":"0.44650361","17":"326.4028","18":"1757.3237","19":"3.297348","20":"12.144131","21":"1430.9209"},{"1":"s04","2":"F","3":"i","4":"pikë","5":"045-pik3","6":"292","7":"2925","8":"3571","9":"431.7347","10":"590.4422","11":"19040","12":"26038","13":"513.750","14":"i","15":"-1.171410623","16":"1.57548716","17":"272.7657","18":"2418.6395","19":"2.745242","20":"14.279103","21":"2145.8738"},{"1":"s04","2":"F","3":"@","4":"për","5":"046-p3r","6":"695","7":"1361","8":"3061","9":"609.1270","10":"777.1088","11":"26863","12":"34270","13":"695.631","14":"ɜ","15":"0.680915256","16":"-0.51413446","17":"645.4511","18":"1194.6184","19":"6.111669","20":"9.622644","21":"549.1672"},{"1":"s04","2":"F","3":"u","4":"puro","5":"059-puro","6":"476","7":"850","8":"3299","9":"744.9773","10":"918.6735","11":"32854","12":"40513","13":"832.500","14":"u","15":"-0.325683671","16":"-1.19686889","17":"442.9248","18":"794.6984","19":"4.411817","20":"7.204373","21":"351.7736"},{"1":"s04","2":"F","3":"a","4":"para","5":"062-para","6":"816","7":"1546","8":"2801","9":"698.6735","10":"813.4807","11":"30812","12":"35874","13":"753.131","14":"a","15":"1.237072654","16":"-0.26696055","17":"757.3493","18":"1339.4035","19":"6.942184","20":"10.353606","21":"582.0542"},{"1":"s04","2":"F","3":"o","4":"por","5":"076-por","6":"640","7":"996","8":"2925","9":"728.0385","10":"924.9773","11":"32107","12":"40791","13":"826.256","14":"ɔ","15":"0.428116439","16":"-1.00180191","17":"594.5884","18":"908.9612","19":"5.710111","20":"7.964102","21":"314.3729"},{"1":"s04","2":"F","3":"e","4":"peri","5":"079-peri","6":"446","7":"2529","8":"3129","9":"571.0091","10":"836.3605","11":"25182","12":"36883","13":"702.500","14":"e","15":"-0.463573935","16":"1.04640138","17":"415.1815","18":"2108.7211","19":"4.156385","20":"13.364984","21":"1693.5397"},{"1":"s04","2":"F","3":"y","4":"pykë","5":"084-pyk3","6":"395","7":"2019","8":"2596","9":"6101.4399","10":"6268.6281","11":"269074","12":"276446","13":"6183.111","14":"y","15":"-0.697987384","16":"0.36500302","17":"368.0178","18":"1709.5838","19":"3.708180","20":"11.960229","21":"1341.5660"},{"1":"s04","2":"F","3":"i","4":"pikë","5":"087-pik3","6":"289","7":"2925","8":"3435","9":"569.6712","10":"720.8277","11":"25123","12":"31788","13":"646.886","14":"i","15":"-1.185199650","16":"1.57548716","17":"269.9914","18":"2418.6395","19":"2.715963","20":"14.279103","21":"2148.6482"},{"1":"s04","2":"F","3":"@","4":"për","5":"088-p3r","6":"837","7":"1395","8":"2925","9":"551.2585","10":"713.5941","11":"24311","12":"31469","13":"632.494","14":"ɜ","15":"1.333595838","16":"-0.46870791","17":"776.7696","18":"1221.2275","19":"7.079407","20":"9.761974","21":"444.4579"},{"1":"s04","2":"F","3":"u","4":"puro","5":"101-puro","6":"401","7":"665","8":"3163","9":"973.1633","10":"1144.7052","11":"42917","12":"50481","13":"1056.881","14":"u","15":"-0.670409331","16":"-1.44404281","17":"373.5665","18":"649.9133","19":"3.761850","20":"6.146151","21":"276.3468"},{"1":"s04","2":"F","3":"a","4":"para","5":"104-para","6":"961","7":"1442","8":"2724","9":"577.7664","10":"783.2313","11":"25480","12":"34540","13":"677.375","14":"a","15":"1.903542263","16":"-0.40591237","17":"891.4420","18":"1258.0108","19":"7.851570","20":"9.950782","21":"366.5687"},{"1":"s04","2":"F","3":"y","4":"pykë","5":"115-pyk3","6":"392","7":"2006","8":"2755","9":"506.3152","10":"649.9433","11":"22329","12":"28662","13":"576.256","14":"y","15":"-0.711776410","16":"0.34763404","17":"365.2435","18":"1699.4097","19":"3.681248","20":"11.920416","21":"1334.1662"},{"1":"s04","2":"F","3":"o","4":"por","5":"118-por","6":"665","7":"1024","8":"2792","9":"562.9365","10":"774.9773","11":"24826","12":"34176","13":"670.006","14":"ɔ","15":"0.543024992","16":"-0.96439181","17":"617.7078","18":"930.8747","19":"5.894602","20":"8.102941","21":"313.1668"},{"1":"s04","2":"F","3":"e","4":"peri","5":"121-peri","6":"457","7":"2462","8":"2789","9":"560.3968","10":"793.2540","11":"24714","12":"34982","13":"676.250","14":"e","15":"-0.413014172","16":"0.95688434","17":"425.3540","18":"2056.2854","19":"4.250733","20":"13.196368","21":"1630.9314"},{"1":"s05","2":"M","3":"y","4":"pykë","5":"009-pyk3","6":"288","7":"1410","8":"2275","9":"344.9773","10":"476.2018","11":"15214","12":"21000","13":"408.761","14":"y","15":"-0.933615494","16":"0.10702632","17":"320.6098","18":"1558.4708","19":"3.238969","20":"11.345216","21":"1237.8610"},{"1":"s05","2":"M","3":"u","4":"puro","5":"019-puro","6":"300","7":"834","8":"2724","9":"389.8753","10":"491.0544","11":"17194","12":"21655","13":"439.381","14":"u","15":"-0.864840872","16":"-1.06053350","17":"334.4471","18":"874.5585","19":"3.377925","20":"7.741804","21":"540.1114"},{"1":"s05","2":"M","3":"a","4":"para","5":"031-para","6":"708","7":"1120","8":"2421","9":"187.7891","10":"336.4059","11":"8282","12":"14835","13":"262.619","14":"a","15":"1.473496276","16":"-0.48080762","17":"804.9174","18":"1214.1400","19":"7.274875","20":"9.725090","21":"409.2226"},{"1":"s05","2":"M","3":"@","4":"për","5":"033-p3r","6":"560","7":"1215","8":"2259","9":"349.9887","10":"494.3651","11":"15435","12":"21801","13":"419.994","14":"ɜ","15":"0.625275938","16":"-0.28824133","17":"634.2566","18":"1326.9380","19":"6.024640","20":"10.293206","21":"692.6814"},{"1":"s05","2":"M","3":"e","4":"peri","5":"035-peri","6":"345","7":"1923","8":"2468","9":"619.9660","10":"806.6327","11":"27341","12":"35572","13":"715.625","14":"e","15":"-0.606936039","16":"1.14688427","17":"386.3372","18":"2167.5802","19":"3.884413","20":"13.549151","21":"1781.2430"},{"1":"s05","2":"M","3":"o","4":"por","5":"038-por","6":"566","7":"904","8":"3007","9":"312.7551","10":"464.4558","11":"13793","12":"20482","13":"389.381","14":"ɔ","15":"0.659663249","16":"-0.91864255","17":"641.1753","18":"957.6728","19":"6.078516","20":"8.269893","21":"316.4976"},{"1":"s05","2":"M","3":"y","4":"pykë","5":"050-pyk3","6":"264","7":"1538","8":"2243","9":"446.6327","10":"609.9660","11":"19697","12":"26899","13":"525.625","14":"y","15":"-1.071164738","16":"0.36648405","17":"292.9350","18":"1710.4513","19":"2.955936","20":"11.963613","21":"1417.5163"},{"1":"s05","2":"M","3":"u","4":"puro","5":"060-puro","6":"339","7":"833","8":"3012","9":"477.5624","10":"641.4399","11":"21061","12":"28287","13":"559.375","14":"u","15":"-0.641323350","16":"-1.06256051","17":"379.4185","18":"873.3711","19":"3.818179","20":"7.734036","21":"493.9526"},{"1":"s05","2":"M","3":"a","4":"para","5":"072-para","6":"708","7":"1194","8":"2435","9":"497.8571","10":"649.8299","11":"21956","12":"28657","13":"575.636","14":"a","15":"1.473496276","16":"-0.33080861","17":"804.9174","18":"1302.0037","19":"7.274875","20":"10.171005","21":"497.0863"},{"1":"s05","2":"M","3":"@","4":"për","5":"074-p3r","6":"567","7":"1189","8":"2403","9":"439.4218","10":"598.9909","11":"19379","12":"26415","13":"520.625","14":"ɜ","15":"0.665394468","16":"-0.34094368","17":"642.3284","18":"1296.0670","19":"6.087468","20":"10.141634","21":"653.7386"},{"1":"s05","2":"M","3":"i","4":"pikë","5":"076-pik3","6":"231","7":"2270","8":"3108","9":"428.2426","10":"569.2630","11":"18886","12":"25104","13":"500.631","14":"i","15":"-1.260294948","16":"1.85025798","17":"254.8823","18":"2579.5899","19":"2.555218","20":"14.704593","21":"2324.7076"},{"1":"s05","2":"M","3":"e","4":"peri","5":"077-peri","6":"416","7":"2025","8":"2596","9":"379.1270","10":"602.1429","11":"16720","12":"26554","13":"490.631","14":"e","15":"-0.200019526","16":"1.35363966","17":"468.2083","18":"2288.6897","19":"4.639517","20":"13.912046","21":"1820.4814"},{"1":"s05","2":"M","3":"o","4":"por","5":"080-por","6":"546","7":"897","8":"2884","9":"480.0794","10":"668.0159","11":"21172","12":"29459","13":"576.250","14":"ɔ","15":"0.545038879","16":"-0.93283164","17":"618.1130","18":"949.3614","19":"5.897806","20":"8.218442","21":"331.2484"},{"1":"s05","2":"M","3":"y","4":"pykë","5":"092-pyk3","6":"249","7":"1634","8":"2270","9":"416.9048","10":"569.9887","11":"18386","12":"25136","13":"494.369","14":"y","15":"-1.157133015","16":"0.56107735","17":"275.6383","18":"1824.4367","19":"2.775483","20":"12.394816","21":"1548.7984"},{"1":"s05","2":"M","3":"u","4":"puro","5":"102-puro","6":"288","7":"742","8":"3012","9":"419.9887","10":"597.9478","11":"18522","12":"26369","13":"506.881","14":"u","15":"-0.933615494","16":"-1.24701875","17":"320.6098","18":"765.3225","19":"3.238969","20":"6.998759","21":"444.7127"},{"1":"s05","2":"M","3":"a","4":"para","5":"114-para","6":"769","7":"1140","8":"2532","9":"408.4921","10":"570.3741","11":"18015","12":"25153","13":"487.511","14":"a","15":"1.823100605","16":"-0.44026735","17":"875.2573","18":"1237.8869","19":"7.746373","20":"9.848024","21":"362.6296"},{"1":"s05","2":"M","3":"@","4":"për","5":"116-p3r","6":"610","7":"1188","8":"2309","9":"389.9887","10":"501.4626","11":"17199","12":"22114","13":"444.381","14":"ɜ","15":"0.911836863","16":"-0.34297070","17":"691.9123","18":"1294.8796","19":"6.465016","20":"10.135747","21":"602.9673"},{"1":"s05","2":"M","3":"i","4":"pikë","5":"118-pik3","6":"278","7":"2268","8":"3055","9":"319.9660","10":"439.6485","11":"14111","12":"19388","13":"376.886","14":"i","15":"-0.990927679","16":"1.84620395","17":"309.0786","18":"2577.2152","19":"3.121878","20":"14.698535","21":"2268.1366"},{"1":"s05","2":"M","3":"e","4":"peri","5":"119-peri","6":"410","7":"1923","8":"2435","9":"363.3220","10":"562.5510","11":"16023","12":"24808","13":"465.631","14":"e","15":"-0.234406837","16":"1.14688427","17":"461.2896","18":"2167.5802","19":"4.577681","20":"13.549151","21":"1706.2906"},{"1":"s05","2":"M","3":"o","4":"por","5":"122-por","6":"576","7":"897","8":"2820","9":"325.8163","10":"487.2676","11":"14369","12":"21488","13":"408.125","14":"ɔ","15":"0.716975434","16":"-0.93283164","17":"652.7064","18":"949.3614","19":"6.167675","20":"8.218442","21":"296.6550"},{"1":"s06","2":"M","3":"o","4":"por","5":"006-por","6":"578","7":"952","8":"2517","9":"611.1451","10":"754.9320","11":"26952","12":"33292","13":"682.506","14":"ɔ","15":"0.694944262","16":"-0.80170434","17":"648.2738","18":"1026.1708","19":"6.133495","20":"8.683016","21":"377.8971"},{"1":"s06","2":"M","3":"a","4":"para","5":"014-para","6":"748","7":"1063","8":"2517","9":"479.6485","10":"585.9070","11":"21153","12":"25838","13":"533.750","14":"a","15":"1.621363611","16":"-0.56929882","17":"834.6681","18":"1162.3052","19":"7.477195","20":"9.450255","21":"327.6371"},{"1":"s06","2":"M","3":"e","4":"peri","5":"018-peri","6":"423","7":"1965","8":"2721","9":"590.3968","10":"757.5397","11":"26037","12":"33407","13":"671.886","14":"e","15":"-0.149732203","16":"1.31925778","17":"478.3260","18":"2268.5501","19":"4.729313","20":"13.853140","21":"1790.2241"},{"1":"s06","2":"M","3":"u","4":"puro","5":"026-puro","6":"245","7":"641","8":"2312","9":"492.8912","10":"605.3628","11":"21737","12":"26696","13":"550.631","14":"u","15":"-1.119747756","16":"-1.45285856","17":"283.1602","18":"644.7493","19":"2.854299","20":"6.106235","21":"361.5891"},{"1":"s06","2":"M","3":"@","4":"për","5":"028-p3r","6":"544","7":"1258","8":"2210","9":"573.7528","10":"676.1791","11":"25303","12":"29819","13":"626.250","14":"ɜ","15":"0.509660392","16":"-0.16101884","17":"610.9949","18":"1401.4601","19":"5.841375","20":"10.647626","21":"790.4652"},{"1":"s06","2":"M","3":"y","4":"pykë","5":"029-pyk3","6":"306","7":"1462","8":"2074","9":"518.5374","10":"620.2608","11":"22868","12":"27353","13":"570.006","14":"y","15":"-0.787326696","16":"0.26610482","17":"350.0429","18":"1651.6530","19":"3.532543","20":"11.730540","21":"1301.6101"},{"1":"s06","2":"M","3":"i","4":"pikë","5":"038-pik3","6":"261","7":"2040","8":"2861","9":"740.1701","10":"809.1950","11":"32642","12":"35685","13":"775.636","14":"i","15":"-1.032555347","16":"1.47628854","17":"300.7032","18":"2360.5328","19":"3.036082","20":"14.117704","21":"2059.8296"},{"1":"s06","2":"M","3":"o","4":"por","5":"048-por","6":"510","7":"918","8":"2244","9":"534.5692","10":"675.2041","11":"23575","12":"29776","13":"602.506","14":"ɔ","15":"0.324376523","16":"-0.87289162","17":"573.7160","18":"984.4720","19":"5.540659","20":"8.433812","21":"410.7560"},{"1":"s06","2":"M","3":"a","4":"para","5":"056-para","6":"809","7":"1115","8":"2448","9":"546.7914","10":"714.7506","11":"24114","12":"31520","13":"631.881","14":"a","15":"1.953784672","16":"-0.46042416","17":"901.5507","18":"1226.0798","19":"7.916670","20":"9.787130","21":"324.5291"},{"1":"s06","2":"M","3":"e","4":"peri","5":"060-peri","6":"456","7":"1934","8":"2619","9":"536.4739","10":"714.9773","11":"23659","12":"31530","13":"628.131","14":"e","15":"0.030102141","16":"1.25435174","17":"514.5084","18":"2230.5306","19":"5.044429","20":"13.740395","21":"1716.0221"},{"1":"s06","2":"M","3":"u","4":"puro","5":"068-puro","6":"264","7":"660","8":"2312","9":"514.9320","10":"641.9161","11":"22709","12":"28308","13":"576.881","14":"u","15":"-1.016206770","16":"-1.41307743","17":"303.9925","18":"668.0516","19":"3.069853","20":"6.285111","21":"364.0591"},{"1":"s06","2":"M","3":"@","4":"për","5":"070-p3r","6":"578","7":"1122","8":"2142","9":"434.4104","10":"585.9524","11":"19158","12":"25840","13":"509.375","14":"ɜ","15":"0.694944262","16":"-0.44576795","17":"648.2738","18":"1234.6649","19":"6.133495","20":"9.831451","21":"586.3911"},{"1":"s06","2":"M","3":"y","4":"pykë","5":"071-pyk3","6":"340","7":"1496","8":"2074","9":"562.5283","10":"656.7234","11":"24808","12":"28961","13":"608.131","14":"y","15":"-0.602042826","16":"0.33729210","17":"387.3217","18":"1693.3518","19":"3.893806","20":"11.896605","21":"1306.0301"},{"1":"s06","2":"M","3":"i","4":"pikë","5":"080-pik3","6":"204","7":"2040","8":"3027","9":"538.9456","10":"616.3605","11":"23768","12":"27181","13":"575.631","14":"i","15":"-1.343178305","16":"1.47628854","17":"238.2063","18":"2360.5328","19":"2.375237","20":"14.117704","21":"2122.3265"},{"1":"s06","2":"M","3":"o","4":"por","5":"090-por","6":"620","7":"962","8":"2482","9":"440.7596","10":"601.4853","11":"19438","12":"26525","13":"520.619","14":"ɔ","15":"0.923824337","16":"-0.78076691","17":"694.3241","18":"1038.4352","19":"6.483021","20":"8.754992","21":"344.1110"},{"1":"s06","2":"M","3":"a","4":"para","5":"098-para","6":"730","7":"1110","8":"2278","9":"420.3741","10":"557.4943","11":"18539","12":"24585","13":"490.631","14":"a","15":"1.523272151","16":"-0.47089287","17":"814.9322","18":"1219.9476","19":"7.343465","20":"9.755325","21":"405.0154"},{"1":"s06","2":"M","3":"e","4":"peri","5":"102-peri","6":"449","7":"1921","8":"2619","9":"567.7438","10":"754.2971","11":"25038","12":"33264","13":"663.131","14":"e","15":"-0.008044538","16":"1.22713307","17":"506.8334","18":"2214.5869","19":"4.978359","20":"13.692503","21":"1707.7535"},{"1":"s06","2":"M","3":"u","4":"puro","5":"110-puro","6":"245","7":"716","8":"2278","9":"426.7234","10":"526.3605","11":"18819","12":"23212","13":"478.125","14":"u","15":"-1.119747756","16":"-1.29582780","17":"283.1602","18":"736.7320","19":"2.854299","20":"6.794341","21":"453.5718"},{"1":"s06","2":"M","3":"@","4":"për","5":"112-p3r","6":"544","7":"1190","8":"2040","9":"375.0454","10":"480.5782","11":"16540","12":"21193","13":"427.500","14":"ɜ","15":"0.509660392","16":"-0.30339340","17":"610.9949","18":"1318.0625","19":"5.841375","20":"10.249921","21":"707.0676"},{"1":"s06","2":"M","3":"y","4":"pykë","5":"113-pyk3","6":"340","7":"1530","8":"2074","9":"513.2313","10":"591.9841","11":"22634","12":"26106","13":"551.256","14":"y","15":"-0.602042826","16":"0.40847938","17":"387.3217","18":"1735.0506","19":"3.893806","20":"12.058923","21":"1347.7289"},{"1":"s06","2":"M","3":"i","4":"pikë","5":"122-pik3","6":"266","7":"1938","8":"2993","9":"589.5805","10":"667.1542","11":"26001","12":"29421","13":"628.125","14":"i","15":"-1.005307719","16":"1.26272671","17":"306.1854","18":"2235.4363","19":"3.092312","20":"13.755057","21":"1929.2509"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Here’s the code to make a 3D scatter plot with plotly. For a detailed explanation, see the package documentation!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>alb_formants <span class="sc">|&gt;</span> </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_ly</span>(</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="sc">~</span>F1, <span class="at">y =</span> <span class="sc">~</span>F2, <span class="at">z =</span> <span class="sc">~</span>F3, <span class="at">color =</span> <span class="sc">~</span>vowel, <span class="at">text =</span> <span class="sc">~</span>vowel,</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">marker =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">5</span>, <span class="at">opacity =</span> <span class="fl">0.7</span>),</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">hovertemplate =</span> <span class="fu">paste</span>(<span class="st">"&lt;b&gt;%{text}&lt;/b&gt;"</span>, <span class="st">"&lt;br&gt;F1: %{x:.1r}"</span>, <span class="st">"&lt;br&gt;F2: %{y:.1r}"</span>, <span class="st">"&lt;br&gt;F3: %{z:.1r}"</span>)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-02c197b7a9f61d46fab3" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-02c197b7a9f61d46fab3">{"x":{"visdat":{"176ef121d0539":["function () ","plotlyVisDat"]},"cur_data":"176ef121d0539","attrs":{"176ef121d0539":{"x":{},"y":{},"z":{},"text":{},"marker":{"size":5,"opacity":0.69999999999999996},"hovertemplate":"<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","color":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20]}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"scene":{"xaxis":{"title":"F1"},"yaxis":{"title":"F2"},"zaxis":{"title":"F3"}},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[367,334,298,310,294,276,305,292,289,231,278,261,204,266],"y":[2467,2450,2444,2312,2416,2327,2823,2925,2925,2270,2268,2040,2040,1938],"z":[3205,3205,3237,2989,2909,2995,3707,3571,3435,3108,3055,2861,3027,2993],"text":["i","i","i","i","i","i","i","i","i","i","i","i","i","i"],"marker":{"color":"rgba(102,194,165,1)","size":5,"opacity":0.69999999999999996,"line":{"color":"rgba(102,194,165,1)"}},"hovertemplate":["<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}"],"type":"scatter3d","mode":"markers","name":"i","textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"line":{"color":"rgba(102,194,165,1)"},"frame":null},{"x":[414,405,361,374,374,306,350,395,392,288,264,249,306,340,340],"y":[1908,1588,1720,1530,1530,1564,2080,2019,2006,1410,1538,1634,1462,1496,1530],"z":[2660,2472,2490,2380,2278,2312,2619,2596,2755,2275,2243,2270,2074,2074,2074],"text":["y","y","y","y","y","y","y","y","y","y","y","y","y","y","y"],"marker":{"color":"rgba(252,141,98,1)","size":5,"opacity":0.69999999999999996,"line":{"color":"rgba(252,141,98,1)"}},"hovertemplate":["<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}"],"type":"scatter3d","mode":"markers","name":"y","textfont":{"color":"rgba(252,141,98,1)"},"error_y":{"color":"rgba(252,141,98,1)"},"error_x":{"color":"rgba(252,141,98,1)"},"line":{"color":"rgba(252,141,98,1)"},"frame":null},{"x":[512,416,435,425,445,283,318,476,401,300,339,288,245,264,245],"y":[833,737,865,890,816,782,818,850,665,834,833,742,641,660,716],"z":[2446,2551,2497,2482,2517,2517,3126,3299,3163,2724,3012,3012,2312,2312,2278],"text":["u","u","u","u","u","u","u","u","u","u","u","u","u","u","u"],"marker":{"color":"rgba(141,160,203,1)","size":5,"opacity":0.69999999999999996,"line":{"color":"rgba(141,160,203,1)"}},"hovertemplate":["<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}"],"type":"scatter3d","mode":"markers","name":"u","textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"line":{"color":"rgba(141,160,203,1)"},"frame":null},{"x":[563,519,562,481,486,460,467,446,457,345,416,410,423,456,449],"y":[2324,2339,2147,2110,2038,2085,2732,2529,2462,1923,2025,1923,1965,1934,1921],"z":[3012,2724,2564,2887,2857,2740,4069,3129,2789,2468,2596,2435,2721,2619,2619],"text":["e","e","e","e","e","e","e","e","e","e","e","e","e","e","e"],"marker":{"color":"rgba(231,138,195,1)","size":5,"opacity":0.69999999999999996,"line":{"color":"rgba(231,138,195,1)"}},"hovertemplate":["<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}"],"type":"scatter3d","mode":"markers","name":"e","textfont":{"color":"rgba(231,138,195,1)"},"error_y":{"color":"rgba(231,138,195,1)"},"error_x":{"color":"rgba(231,138,195,1)"},"line":{"color":"rgba(231,138,195,1)"},"frame":null},{"x":[914,837,858,544,607,620,703,695,837,560,567,610,544,578,544],"y":[1406,1355,1337,1292,1224,1185,1381,1361,1395,1215,1189,1188,1258,1122,1190],"z":[2414,2423,2508,2176,2176,2184,2741,3061,2925,2259,2403,2309,2210,2142,2040],"text":["ɜ","ɜ","ɜ","ɜ","ɜ","ɜ","ɜ","ɜ","ɜ","ɜ","ɜ","ɜ","ɜ","ɜ","ɜ"],"marker":{"color":"rgba(166,216,84,1)","size":5,"opacity":0.69999999999999996,"line":{"color":"rgba(166,216,84,1)"}},"hovertemplate":["<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}"],"type":"scatter3d","mode":"markers","name":"ɜ","textfont":{"color":"rgba(166,216,84,1)"},"error_y":{"color":"rgba(166,216,84,1)"},"error_x":{"color":"rgba(166,216,84,1)"},"line":{"color":"rgba(166,216,84,1)"},"frame":null},{"x":[674,678,705,526,506,526,627,640,665,566,546,576,578,510,620],"y":[1019,1030,1098,1020,1033,1013,1085,996,1024,904,897,897,952,918,962],"z":[2555,2352,2428,2142,2176,2108,2789,2925,2792,3007,2884,2820,2517,2244,2482],"text":["ɔ","ɔ","ɔ","ɔ","ɔ","ɔ","ɔ","ɔ","ɔ","ɔ","ɔ","ɔ","ɔ","ɔ","ɔ"],"marker":{"color":"rgba(255,217,47,1)","size":5,"opacity":0.69999999999999996,"line":{"color":"rgba(255,217,47,1)"}},"hovertemplate":["<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}"],"type":"scatter3d","mode":"markers","name":"ɔ","textfont":{"color":"rgba(255,217,47,1)"},"error_y":{"color":"rgba(255,217,47,1)"},"error_x":{"color":"rgba(255,217,47,1)"},"line":{"color":"rgba(255,217,47,1)"},"frame":null},{"x":[991,929,975,850,769,708,952,816,961,708,708,769,748,809,730],"y":[1336,1250,1267,1224,1156,1255,1598,1546,1442,1120,1194,1140,1063,1115,1110],"z":[2243,2307,2249,2176,2176,2142,2789,2801,2724,2421,2435,2532,2517,2448,2278],"text":["a","a","a","a","a","a","a","a","a","a","a","a","a","a","a"],"marker":{"color":"rgba(229,196,148,1)","size":5,"opacity":0.69999999999999996,"line":{"color":"rgba(229,196,148,1)"}},"hovertemplate":["<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}","<b>%{text}<\/b> <br>F1: %{x:.1r} <br>F2: %{y:.1r} <br>F3: %{z:.1r}"],"type":"scatter3d","mode":"markers","name":"a","textfont":{"color":"rgba(229,196,148,1)"},"error_y":{"color":"rgba(229,196,148,1)"},"error_x":{"color":"rgba(229,196,148,1)"},"line":{"color":"rgba(229,196,148,1)"},"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>


</section>

</main> <!-- /main -->
<script>

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");

  var t = document.getElementsByClassName("webex-total_correct");
  for (var i = 0; i < t.length; i++) {
    p = t[i].parentElement;
    var correct = p.getElementsByClassName("webex-correct").length;
    var solvemes = p.getElementsByClassName("webex-solveme").length;
    var radiogroups = p.getElementsByClassName("webex-radiogroup").length;
    var selects = p.getElementsByClassName("webex-select").length;

    t[i].innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
  }
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");

  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* check answers */
check_func = function() {
  console.log("webex: check answers");

  var cl = this.parentElement.classList;
  if (cl.contains('unchecked')) {
    cl.remove("unchecked");
    this.innerHTML = "Hide Answers";
  } else {
    cl.add("unchecked");
    this.innerHTML = "Show Answers";
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "")
  }

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol > 0){
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("webex-correct");
    } else {
      cl.remove("webex-correct");
    }
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("webex-correct");
    }
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");

  var cl = this.classList

  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") {
    cl.add("webex-correct");
  } else if (this.value != "blank") {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;

  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }

  /* add style */
  if (checked_button.value == "answer") {
    cl.add("webex-correct");
  } else {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

window.onload = function() {
  console.log("webex onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('webex-solution')) {
      buttons[i].onclick = b_func;
    }
  }

  var check_sections = document.getElementsByClassName("webex-check");
  console.log("check:", check_sections.length);
  for (var i = 0; i < check_sections.length; i++) {
    check_sections[i].classList.add("unchecked");

    let btn = document.createElement("button");
    btn.innerHTML = "Show Answers";
    btn.classList.add("webex-check-button");
    btn.onclick = check_func;
    check_sections[i].appendChild(btn);

    let spn = document.createElement("span");
    spn.classList.add("webex-total_correct");
    check_sections[i].appendChild(spn);
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;

    solveme[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  }

  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) {
    radiogroups[i].onchange = radiogroups_func;
  }

  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
    selects[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  }

  update_total_correct();
  PagedTableDoc.initAll();
}

</script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
          // default icon
          link.classList.add("external");
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>